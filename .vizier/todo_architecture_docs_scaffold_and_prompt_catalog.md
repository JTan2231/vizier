# Architecture Documentation Scaffold + Prompt Catalog

Context
- Users want Vizier to house detailed architecture documentation across multiple scopes (interfaces like API/CLI/protocols down to core primitives), but Vizier itself should not generate the documentation. Instead, Vizier should provide high-quality prompts/templates to guide external code-focused models (e.g., Codex, Claude Code) to author the docs, and then curate/store the results in-repo.

Product stance
- Vizier is a curator/orchestrator for architecture docs, not an author. It exposes prompts, templates, and intake flows; humans and external models produce content. Vizier helps organize, validate basic structure, and surface docs in outcomes.

Desired behavior
- The repository contains a clearly structured docs area (e.g., an Architecture index with scoped outlines: Interfaces (API/CLI/Protocol), Subsystems (Core modules/services), Data/Storage, Invariants/Constraints, Operational concerns). Each outline clarifies purpose and acceptance criteria for content.
- Vizier provides a prompt catalog for each scope with copyable prompts tailored for code-aware models, including guidance/context fields the operator can paste (e.g., file globs, entrypoints, invariants, acceptance tests). Prompts emphasize non-hallucination and require citations into the repo.
- Operators can run a CLI affordance to:
  - Print relevant prompts to stdout for a selected scope.
  - Create scaffold files (empty or with headings) for the chosen scope without generating prose.
  - Accept pasted/generated content and save it into the scaffold location, tagging metadata (source model, date, scope, snapshot moment).
- Outcome summaries reference doc updates (paths touched, scopes covered) after intake operations.
- Configurable defaults tie into existing config (e.g., system prompt path, thinking_level) but never auto-generate docs.

Acceptance criteria
- A docs/architecture index exists with scope-specific outlines (human-readable) and clear placement for files per scope. No autogenerated prose beyond headings and instructions.
- A prompt catalog is available via CLI/help and in-repo (markdown) that:
  - Provides at least: API surfaces, CLI surfaces, Protocol/event contract, Core primitives/modules, VCS/Workflow invariants, Output/IO contracts.
  - Includes operator fields for repo context and cites acceptance criteria.
  - Instructs external models to cite code locations and avoid speculation.
- CLI affordance(s) allow operators to:
  - Print a prompt for a scope to stdout without side effects.
  - Create/update scaffold files for a scope (headings only), idempotently.
  - Ingest pasted content into the correct file(s) with metadata tags and show an Outcome summary (A/M/D/R).
- Non-interactive mode behaves deterministically; protocol mode outputs structured JSON for outcomes.
- Integration points with Outcome summaries and Session logging are wired so doc updates are captured.

Notes/constraints
- Do not generate documentation prose. Prompts/templates only.
- Honor terminal-minimal and stdout/stderr contracts; prompts printed to stdout only when explicitly requested.
- Align with renderer-neutral event stream once available.

Pointers
- CLI surface likely in vizier-cli (docs subcommand or flags); storage under docs/architecture; cross-link to AGENTS.md and Snapshot.
- Outcome summaries should reflect doc-scoped changes similarly to chat/Auditor facts.