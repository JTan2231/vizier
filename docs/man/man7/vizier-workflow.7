.TH VIZIER-WORKFLOW 7 "UNRELEASED" "Vizier" "Miscellaneous Information Manual"
.SH NAME
vizier-workflow \- operator workflow patterns for init, run, jobs, and release
.SH DESCRIPTION
Vizier exposes an operational surface focused on repository bootstrap,
plan visibility, workflow orchestration, scheduler introspection, and release
automation.
Internally, workflow-template metadata classifies agent execution as
\fBcap.agent.invoke\fR and prompt construction as explicit
\fBcap.env.*.prompt.resolve\fR nodes under a canonical-only \fBuses\fR contract
(\fBcap.env.*\fR, \fBcap.agent.invoke\fR, and \fBcontrol.*\fR only).
.SH COMMAND SET
.PP
Primary user-facing commands are:
.IP "\(bu" 2
\fBvizier init\fR / \fBvizier init --check\fR
.IP "\(bu" 2
\fBvizier list\fR
.IP "\(bu" 2
\fBvizier jobs ...\fR
.IP "\(bu" 2
\fBvizier run <flow>\fR
.IP "\(bu" 2
\fBvizier release\fR
.IP "\(bu" 2
\fBvizier completions\fR
.PP
\fBvizier init\fR creates (or validates) the default repo scaffold:
\fI.vizier/narrative/{snapshot,glossary}.md\fR, \fI.vizier/config.toml\fR,
\fI.vizier/workflows/{draft,approve,merge,commit}.toml\fR,
\fI.vizier/prompts/{DRAFT,APPROVE,MERGE,COMMIT}_PROMPTS.md\fR, root \fIci.sh\fR, and
required \fI.gitignore\fR runtime entries.
.PP
\fBvizier cd\fR and \fBvizier clean\fR remain exposed but return deprecation
errors in scheduler-managed environments.
.PP
\fBvizier run <flow>\fR resolves in this order: explicit file path, configured
\fB[commands]\fR alias, then canonical selector identity (\fBtemplate.name@vN\fR).
There is no implicit repo/global flow-name fallback.
\fB[workflow.global_workflows]\fR only controls whether explicit file selectors
outside the repo are allowed under the configured global workflows directory.
.SH JOB OPERATIONS
Use \fBvizier jobs\fR to inspect and control background job records:
.IP "\(bu" 2
List/schedule views for queued/running/blocked jobs.
.IP "\(bu" 2
Tail/attach for stdout/stderr streams (including \fBjobs tail --follow\fR).
.IP "\(bu" 2
Approval/reject/retry/cancel/gc controls.
.SH RELEASE FLOW
Use \fBvizier release --dry-run\fR to preview release versioning and notes,
then \fBvizier release --yes\fR to create release artifacts.
.SH WORKFLOW GUIDE
For user docs, see:
.IP "\(bu" 2
\fIdocs/user/workflows/draft-approve-merge.md\fR
.SH SEE ALSO
.BR vizier (1),
.BR vizier-jobs (1),
.BR vizier-config (5)
